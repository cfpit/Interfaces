<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explicaci√≥n Detallada del archivo App.js</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .code-explanation {
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
        }
        .concept-box {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .flow-diagram {
            background: #fff;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .arrow {
            font-size: 2rem;
            color: #007bff;
            margin: 10px 0;
        }
        pre[class*="language-"] {
            border-radius: 8px;
            margin: 15px 0;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <div class="row">
            <div class="col-12">
                <h1 class="text-center mb-5 text-primary">üìö Explicaci√≥n Detallada del archivo App.js</h1>
                
                <!-- Introducci√≥n -->
                <div class="section-header">
                    <h2>üéØ Introducci√≥n</h2>
                </div>
                <div class="concept-box">
                    <p>El archivo <strong>App.js</strong> es el componente principal de una aplicaci√≥n React que demuestra c√≥mo realizar peticiones HTTP a una API externa. Este componente implementa un patr√≥n com√∫n en React para manejar datos asincr√≥nicos, estados de carga y manejo de errores.</p>
                </div>

                <!-- Importaciones -->
                <div class="section-header">
                    <h2>üì¶ Importaciones</h2>
                </div>
                <pre><code class="language-javascript">import React, { useState, useEffect } from 'react';
import './App.css';</code></pre>
                
                <div class="code-explanation">
                    <h4>üîç Explicaci√≥n:</h4>
                    <ul>
                        <li><strong>React:</strong> La librer√≠a principal para crear componentes</li>
                        <li><strong>useState:</strong> Hook para manejar estado local en componentes funcionales</li>
                        <li><strong>useEffect:</strong> Hook importado pero no utilizado en este ejemplo (podr√≠a usarse para cargar datos autom√°ticamente)</li>
                        <li><strong>./App.css:</strong> Estilos CSS espec√≠ficos del componente</li>
                    </ul>
                </div>

                <!-- Estados del Componente -->
                <div class="section-header">
                    <h2>üè™ Estados del Componente</h2>
                </div>
                
                <h4>1Ô∏è‚É£ Estado de Usuarios</h4>
                <pre><code class="language-javascript">const [users, setUsers] = useState([]);</code></pre>
                <div class="code-explanation">
                    <p><span class="highlight">users</span>: Array que almacena la lista de usuarios obtenida de la API</p>
                    <p><span class="highlight">setUsers</span>: Funci√≥n para actualizar el array de usuarios</p>
                    <p><span class="highlight">useState([])</span>: Inicializa el estado con un array vac√≠o</p>
                </div>

                <h4>2Ô∏è‚É£ Estado de Carga</h4>
                <pre><code class="language-javascript">const [loading, setLoading] = useState(false);</code></pre>
                <div class="code-explanation">
                    <p><span class="highlight">loading</span>: Boolean que indica si estamos cargando datos</p>
                    <p><span class="highlight">setLoading</span>: Funci√≥n para actualizar el estado de carga</p>
                    <p><span class="highlight">useState(false)</span>: Inicializa como false (no cargando)</p>
                </div>

                <h4>3Ô∏è‚É£ Estado de Error</h4>
                <pre><code class="language-javascript">const [error, setError] = useState(null);</code></pre>
                <div class="code-explanation">
                    <p><span class="highlight">error</span>: Almacena mensajes de error si ocurre alg√∫n problema</p>
                    <p><span class="highlight">setError</span>: Funci√≥n para actualizar el estado de error</p>
                    <p><span class="highlight">useState(null)</span>: Inicializa como null (sin errores)</p>
                </div>

                <!-- Funci√≥n fetchData -->
                <div class="section-header">
                    <h2>‚öôÔ∏è Funci√≥n fetchData</h2>
                </div>
                
                <pre><code class="language-javascript">const fetchData = async () => {
    setLoading(true);
    setError(null);
    
    try {
        const response = await fetch('https://jsonplaceholder.typicode.com/users');
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        setUsers(data);
    } catch (err) {
        setError(err.message);
        console.error('Error fetching data:', err);
    } finally {
        setLoading(false);
    }
};</code></pre>

                <div class="flow-diagram">
                    <h4>üìä Flujo de Ejecuci√≥n de fetchData</h4>
                    <div class="row">
                        <div class="col-12 col-md-2 mb-3">
                            <div class="bg-warning p-3 rounded">
                                <strong>1. Inicio</strong><br>
                                setLoading(true)<br>
                                setError(null)
                            </div>
                        </div>
                        <div class="col-12 col-md-1 d-flex align-items-center justify-content-center">
                            <div class="arrow">‚û°Ô∏è</div>
                        </div>
                        <div class="col-12 col-md-2 mb-3">
                            <div class="bg-info text-white p-3 rounded">
                                <strong>2. Petici√≥n</strong><br>
                                fetch() a la API
                            </div>
                        </div>
                        <div class="col-12 col-md-1 d-flex align-items-center justify-content-center">
                            <div class="arrow">‚û°Ô∏è</div>
                        </div>
                        <div class="col-12 col-md-2 mb-3">
                            <div class="bg-success text-white p-3 rounded">
                                <strong>3. √âxito</strong><br>
                                setUsers(data)
                            </div>
                        </div>
                        <div class="col-12 col-md-1 d-flex align-items-center justify-content-center">
                            <div class="arrow">‚û°Ô∏è</div>
                        </div>
                        <div class="col-12 col-md-2 mb-3">
                            <div class="bg-secondary text-white p-3 rounded">
                                <strong>4. Final</strong><br>
                                setLoading(false)
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <div class="bg-danger text-white p-2 rounded d-inline-block">
                            <strong>En caso de Error:</strong> setError(mensaje) + console.error()
                        </div>
                    </div>
                </div>

                <div class="code-explanation">
                    <h4>üîç Desglose paso a paso:</h4>
                    <ol>
                        <li><strong>Preparaci√≥n:</strong> Activa el estado de carga y limpia errores anteriores</li>
                        <li><strong>Petici√≥n HTTP:</strong> Usa <code>fetch()</code> para obtener datos de JSONPlaceholder</li>
                        <li><strong>Validaci√≥n:</strong> Verifica si la respuesta HTTP fue exitosa</li>
                        <li><strong>Procesamiento:</strong> Convierte la respuesta a JSON</li>
                        <li><strong>Actualizaci√≥n:</strong> Guarda los datos en el estado</li>
                        <li><strong>Manejo de errores:</strong> Captura y guarda cualquier error</li>
                        <li><strong>Finalizaci√≥n:</strong> Desactiva el estado de carga</li>
                    </ol>
                </div>

                <!-- Renderizaci√≥n JSX -->
                <div class="section-header">
                    <h2>üé® Renderizaci√≥n JSX</h2>
                </div>

                <h4>1Ô∏è‚É£ Estructura Principal</h4>
                <pre><code class="language-jsx">&lt;div className="container my-5 text-center"&gt;
    {/* Contenido aqu√≠ */}
&lt;/div&gt;</code></pre>
                <div class="code-explanation">
                    <p>Usa clases de Bootstrap para crear un contenedor centrado con margen vertical.</p>
                </div>

                <h4>2Ô∏è‚É£ Bot√≥n de Acci√≥n</h4>
                <pre><code class="language-jsx">&lt;button 
    className="btn btn-danger w-40" 
    onClick={fetchData} 
    disabled={loading}
&gt;
    {loading ? 'Cargando...' : 'Obtener API Externa'}
&lt;/button&gt;</code></pre>
                <div class="code-explanation">
                    <ul>
                        <li><strong>onClick={fetchData}:</strong> Ejecuta la funci√≥n al hacer clic</li>
                        <li><strong>disabled={loading}:</strong> Desactiva el bot√≥n mientras carga</li>
                        <li><strong>Texto din√°mico:</strong> Cambia entre "Cargando..." y "Obtener API Externa"</li>
                    </ul>
                </div>

                <h4>3Ô∏è‚É£ Manejo de Errores</h4>
                <pre><code class="language-jsx">{error && &lt;div className="mt-2 text-danger"&gt;{error}&lt;/div&gt;}</code></pre>
                <div class="code-explanation">
                    <p>Renderizado condicional: solo muestra el mensaje de error si existe uno.</p>
                </div>

                <h4>4Ô∏è‚É£ Tabla de Datos</h4>
                <pre><code class="language-jsx">&lt;table className="table table-striped table-dark mt-4"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Nombre&lt;/th&gt;
            &lt;th&gt;Email&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        {!loading && !error && (
            &lt;&gt;
                {users.length &gt; 0 ? (
                    users.map(user =&gt; (
                        &lt;tr key={user.id}&gt;
                            &lt;td&gt;{user.name}&lt;/td&gt;
                            &lt;td&gt;{user.email}&lt;/td&gt;
                        &lt;/tr&gt;
                    ))
                ) : (
                    &lt;tr&gt;
                        &lt;td colSpan="2"&gt;No hay datos disponibles&lt;/td&gt;
                    &lt;/tr&gt;
                )}
            &lt;/&gt;
        )}
    &lt;/tbody&gt;
&lt;/table&gt;</code></pre>

                <div class="code-explanation">
                    <h4>üîç L√≥gica de renderizado:</h4>
                    <ul>
                        <li><strong>Condici√≥n principal:</strong> <code>!loading && !error</code> - Solo muestra datos si no est√° cargando ni hay errores</li>
                        <li><strong>Verificaci√≥n de datos:</strong> <code>users.length > 0</code> - Verifica si hay usuarios</li>
                        <li><strong>Mapeo de datos:</strong> <code>users.map()</code> - Convierte cada usuario en una fila</li>
                        <li><strong>Key √∫nica:</strong> <code>key={user.id}</code> - React requiere keys √∫nicas para listas</li>
                        <li><strong>Mensaje de fallback:</strong> Muestra "No hay datos disponibles" si el array est√° vac√≠o</li>
                    </ul>
                </div>

                <!-- Conceptos Clave -->
                <div class="section-header">
                    <h2>üí° Conceptos Clave de React</h2>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <div class="concept-box">
                            <h4>üé£ Hooks</h4>
                            <p><strong>useState:</strong> Permite agregar estado a componentes funcionales. Retorna un valor y una funci√≥n para actualizarlo.</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="concept-box">
                            <h4>üîÑ Estado As√≠ncrono</h4>
                            <p>Manejo de operaciones que toman tiempo (como peticiones HTTP) usando async/await y estados de carga.</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="concept-box">
                            <h4>üé≠ Renderizado Condicional</h4>
                            <p>Mostrar diferentes elementos basados en el estado usando operadores l√≥gicos (&& y ternario ?).</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <div class="concept-box">
                            <h4>üóÇÔ∏è Mapeo de Listas</h4>
                            <p>Transformar arrays de datos en elementos JSX usando el m√©todo .map() con keys √∫nicas.</p>
                        </div>
                    </div>
                </div>

                <!-- Flujo de Estados -->
                <div class="section-header">
                    <h2>üîÑ Flujo de Estados</h2>
                </div>

                <div class="flow-diagram">
                    <h4>Estados Posibles de la Aplicaci√≥n</h4>
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="bg-light p-3 rounded border">
                                <h5>üèÅ Estado Inicial</h5>
                                <small>
                                    ‚Ä¢ users: []<br>
                                    ‚Ä¢ loading: false<br>
                                    ‚Ä¢ error: null
                                </small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="bg-warning p-3 rounded">
                                <h5>‚è≥ Cargando</h5>
                                <small>
                                    ‚Ä¢ users: []<br>
                                    ‚Ä¢ loading: true<br>
                                    ‚Ä¢ error: null
                                </small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="bg-success text-white p-3 rounded">
                                <h5>‚úÖ √âxito</h5>
                                <small>
                                    ‚Ä¢ users: [datos]<br>
                                    ‚Ä¢ loading: false<br>
                                    ‚Ä¢ error: null
                                </small>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="bg-danger text-white p-3 rounded">
                                <h5>‚ùå Error</h5>
                                <small>
                                    ‚Ä¢ users: []<br>
                                    ‚Ä¢ loading: false<br>
                                    ‚Ä¢ error: "mensaje"
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Utilizada -->
                <div class="section-header">
                    <h2>üåê API Utilizada</h2>
                </div>
                <div class="code-explanation">
                    <h4>JSONPlaceholder</h4>
                    <p><strong>URL:</strong> https://jsonplaceholder.typicode.com/users</p>
                    <p><strong>Prop√≥sito:</strong> API gratuita para testing y prototipado</p>
                    <p><strong>Respuesta:</strong> Array de 10 usuarios con propiedades como id, name, email, etc.</p>
                    <h5>Estructura de datos de ejemplo:</h5>
                    <pre><code class="language-json">{
  "id": 1,
  "name": "Leanne Graham",
  "username": "Bret",
  "email": "Sincere@april.biz",
  "address": { ... },
  "phone": "1-770-736-8031 x56442",
  "website": "hildegard.org",
  "company": { ... }
}</code></pre>
                </div>

                <!-- Mejoras Posibles -->
                <div class="section-header">
                    <h2>üöÄ Mejoras Posibles</h2>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üîÑ useEffect</h5>
                                <p class="card-text">Cargar datos autom√°ticamente al montar el componente.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üìÑ Paginaci√≥n</h5>
                                <p class="card-text">Dividir los resultados en p√°ginas para mejor UX.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üîç Filtrado</h5>
                                <p class="card-text">Agregar b√∫squeda y filtros por nombre o email.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üíæ Cach√©</h5>
                                <p class="card-text">Evitar peticiones repetidas guardando datos en localStorage.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üé® Loading Spinner</h5>
                                <p class="card-text">Agregar un spinner visual durante la carga.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">üîß Custom Hook</h5>
                                <p class="card-text">Extraer la l√≥gica de fetch a un hook reutilizable.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Conclusi√≥n -->
                <div class="section-header">
                    <h2>üéØ Conclusi√≥n</h2>
                </div>
                <div class="concept-box">
                    <p>Este componente <strong>App.js</strong> es un ejemplo perfecto de c√≥mo manejar datos asincr√≥nicos en React moderno. Implementa las mejores pr√°cticas para:</p>
                    <ul>
                        <li>‚úÖ Manejo de estado con hooks</li>
                        <li>‚úÖ Peticiones HTTP as√≠ncronas</li>
                        <li>‚úÖ Manejo de errores robusto</li>
                        <li>‚úÖ Estados de carga para mejor UX</li>
                        <li>‚úÖ Renderizado condicional</li>
                        <li>‚úÖ Mapeo de listas con keys</li>
                    </ul>
                    <p>Es una base s√≥lida que puede extenderse con funcionalidades adicionales seg√∫n las necesidades del proyecto.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>